<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive 3D Experience</title>
    <style>
        body {
            margin: 0;
            background-color: #121212;
            color: white;
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            height: 200vh; 
            overflow-x: hidden;
        }

        /* --- FIXED 3D CONTAINER --- */
        #model-wrapper {
            position: fixed;
            transform: translate(-50%, -50%); 
            
            /* START POSITION (Изначально) */
            top: 50%;      
            left: 75%;     
            width: 50vw;   /* Было 40, стало 50 (шире) */
            height: 80vh;  /* Было 60, стало 80 (выше) */
            
            z-index: 10;
            pointer-events: auto; 
        }

        model-viewer {
            width: 100%;
            height: 100%;
            background-color: transparent;
            outline: none;
        }

        /* --- TEXT SECTIONS --- */
        .section {
            height: 100vh;
            position: relative;
            z-index: 5;
            display: flex;
            align-items: center;
            padding-left: 10%;
            box-sizing: border-box;
            pointer-events: none;
        }
        
        .text-content {
            max-width: 450px;
            pointer-events: auto;
        }

        h1 { margin: 0 0 20px 0; font-size: 4rem; line-height: 0.95; font-weight: 800; letter-spacing: -2px; }
        p { font-size: 1.3rem; line-height: 1.6; color: #b0b0b0; margin: 0; }
        strong { color: white; font-weight: 600; }

        .divider { width: 50px; height: 4px; background: #ff0055; margin-bottom: 30px; }

    </style>
    
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
</head>
<body>

    <div id="model-wrapper">
        <model-viewer 
            src="model.glb" 
            alt="3D Interactive Model" 
            camera-controls 
            shadow-intensity="1" 
            exposure="1"
            disable-zoom
            interaction-prompt="none" 
            field-of-view="25deg"
            min-field-of-view="10deg"
            max-field-of-view="45deg">
            
            </model-viewer>
    </div>

    <section class="section">
        <div class="text-content">
            <div class="divider"></div>
            <h1>INTERACTIVE<br>DEMO</h1>
            <p>
                Experience the model in real-time WebGL.<br><br>
                1. <strong>CLICK</strong> the model to play the animation sequence.<br>
                2. <strong>SCROLL DOWN</strong> to observe the details in high scale.
            </p>
        </div>
    </section>

    <section class="section">
        <div class="text-content" style="margin-top: auto; margin-bottom: 15%; background: rgba(18, 18, 18, 0.9); padding: 30px; border-radius: 4px; border-left: 4px solid #ff0055;">
            <h1>HIGH<br>PRECISION</h1>
            <p>
                The model seamlessly transitions to the center stage.<br>
                This smooth scroll interaction allows you to showcase 
                geometry and textures without losing context.
            </p>
        </div>
    </section>

    <script>
        const wrapper = document.getElementById('model-wrapper');
        const viewer = document.querySelector('model-viewer');
        
        // --- COORDINATES CONFIG ---
        
        // START: Правая позиция
        const startLeft = 75; 
        const startWidth = 50; // Увеличил контейнер
        const startHeight = 80; // Увеличил контейнер

        // END: Центр
        const endLeft = 50;   
        const endWidth = 100;   // Максимум (во всю ширину)
        const endHeight = 100;  // Максимум (во всю высоту)

        // --- 1. SCROLL ---
        window.addEventListener('scroll', () => {
            const scrolled = window.scrollY;
            const maxScroll = window.innerHeight; 
            
            let progress = scrolled / maxScroll;
            if (progress > 1) progress = 1;
            if (progress < 0) progress = 0;

            const currentLeft = startLeft + (endLeft - startLeft) * progress;
            const currentWidth = startWidth + (endWidth - startWidth) * progress;
            const currentHeight = startHeight + (endHeight - startHeight) * progress;

            wrapper.style.left = currentLeft + '%';
            wrapper.style.width = currentWidth + 'vw';
            wrapper.style.height = currentHeight + 'vh';
        });

        // --- 2. ANIMATION ---
        viewer.addEventListener('load', () => {
            viewer.pause();      
            viewer.currentTime = 0;
        });

        viewer.addEventListener('click', () => {
            if (viewer.paused) {
                viewer.play(); 
            } else {
                viewer.pause(); 
            }
        });
    </script>
</body>
</html>
